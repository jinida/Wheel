@using System.ComponentModel.DataAnnotations

@if (IsVisible)
{
    <div class="modal-overlay" @onclick="Cancel">
        <div class="modal-content" @onclick:stopPropagation="true">

            <div class="modal-header">
                <h3>Edit Dataset</h3>
                <button class="close-button" @onclick="Cancel">&times;</button>
            </div>

            <div class="modal-body">
                <EditForm Model="@_model" OnValidSubmit="HandleValidSubmit">
                    <DataAnnotationsValidator />

                    <div class="form-group">
                        <label for="datasetName">Dataset Name</label>
                        <InputText id="datasetName"
                                   class="form-control"
                                   style="@GetInputStyle()"
                                   @bind-Value="_model.DatasetName"
                                   @oninput="OnNameInput"
                                   placeholder="Enter dataset name" />
                        <ValidationMessage For="@(() => _model.DatasetName)" />
                        @if (!string.IsNullOrEmpty(_validationError))
                        {
                            <div class="validation-message">@_validationError</div>
                        }
                    </div>

                    <div class="form-group">
                        <label for="description">Description</label>
                        <InputTextArea id="description" class="form-control" @bind-Value="_model.Description" placeholder="Optional details" />
                    </div>

                    <div class="modal-footer">
                        <SnowButton ButtonVariant="@SnowButton.Variant.Light" ButtonSize="@SnowButton.Size.Medium" OnClick="Cancel">Cancel</SnowButton>
                        <SnowButton type="submit" ButtonVariant="@SnowButton.Variant.Filled" ButtonSize="@SnowButton.Size.Medium" TrailingIconUrl="svgs/arrow-right.svg">Save</SnowButton>
                    </div>
                </EditForm>
            </div>
        </div>
    </div>
}
